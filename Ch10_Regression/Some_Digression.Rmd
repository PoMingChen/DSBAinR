---
title: "Digression_on_OtherTopics"
author: "PoMingChen"
date: "8/9/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Outline

### About R

#### 1. %in% 可以用在integer numeric number資料型態？

[stackflow1](https://stackoverflow.com/questions/15358006/difference-between-in-and)

[stackflow2](https://stackoverflow.com/questions/42637099/difference-between-the-and-in-operators-in-r)

以上兩個連結，大概都講的差不多了。基本上`%in%` __無關乎你今天比較的的資料型態__，他重點就是將前面的那個vector跟後面的那個vector，做`value matching`。那最終輸出的也會是一串vector（about true false)

那`==` is logical operator，就是要完全比較這兩個物件是否一樣，若`length(vector)`，那麼他會將比較短的那個補足，輸出的vector length自然也是比較長的那個。

看以下兩段程式碼就會明白了。那兩者都是採element_wise的方式。

```{r about %in%}
1:2 %in% rep(1:2,5) ##不會自動做recycle

rep(1:2,5) %in% 1:2
```

```{r}
1:2 == rep(1:2,5) ##前面的vector較短，會自動做recycle
rep(c(0.5, 10), times = 20) == c(0.5, 3)
rep(c(3, 0.5), 5) == c(0.5, 3)
```

#### 2. RStudio 有沒有可以選擇某一code line的快捷鍵

看起來沒有，但是有些不錯用的shortcut可以納入工作流：

[Rstudio keyboard shorcut](https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts)

[Chinese reference](https://www.itread01.com/content/1512972264.html)

`command + option + shift + G`  ：跳選到某一行。


#### 3. `lmModel$effects` 是什麼功用？

> To be short, I have no idea on what it can do for me? XD

From the Help in RStudio.

-  Returns (orthogonal) effects from a fitted model, usually a linear model. This is a generic function, but currently only has a methods for objects inheriting from classes "lm" and "glm".

- For a linear model fitted by lm or aov, the effects are the uncorrelated single-degree-of-freedom values obtained by __projecting the data__ onto the successive orthogonal subspaces generated by the QR decomposition during the fitting process. The first r (the rank of the model) are associated with coefficients and the remainder span the space of residuals (but are not associated with particular residuals).

#### 4. How to see source code of a function/method in R?

[Useful Explanation](http://rfaqs.com/source-code-of-r-method)

- If it’s an internal function of R (e.g. from base package), just type the function name, like
```{r}
rowMeans ## ()不要打即可
abs ##absolute value
```

- If you need to check the S3 item

> Note that the `getAnywhere()` function is useful as you don’t need to know from which package the function or method comes from.

```{r}
getAnywhere(lm)
getAnywhere(mutate)
```

> If you already know the package which the function is belong to.

```{r}
stats:::lm
dplyr:::mutate
```

- If you need to check the S4 item

Use `showMethods` and `getMethod` as a SOP.
```{r}
library(Matrix)
chol2inv
```

```{r}
showMethods(chol2inv)
```

```{r}
getMethod("chol2inv", "diagonalMatrix")
```


### About Statistics in Regression

1. `R^2`的大小究竟有沒有「很有差」？真的有必要努力提升這個數字嗎？甚至Adjusted R^2，出現負的，怎麼搞？
2. `t test`沒過，就要剔除嗎？萬一本質上他是控制變數也沒差不是嗎？（當然也可以嘗試變數轉換）
3. 變數轉換，眾多轉換的方式上，我怎麼知道哪個可能有效？或者有效率地去處理這個環節，我想這也是data preprocessing的一環。
4. 建立交乘項，是否是屬於Model Selection的一環，那過程中怎麼做衡量？（在上面電子書可能有幫助）
5. 試試看執行，作業模型本身的殘差性質是否有滿足古典架設：
[](https://rpubs.com/skydome20/R-Note5-First_Practice)

### About ML

1. 為什麼有時候要用MSE mean square error，有時候要用least squre error（要不要除以1/n）。

2. 在Regression裡面，什麼時候要使用OLS，最小平方法，什麼時候應該要使用梯度下降法，何況後者可能跟一開始給的initial value有關，可能只會找到local解，這樣不是自找麻煩？為什麼這個方法還存在，而且迭代求法，計算量也會比較久吧？他有什麼優勢使得他還活著？

3. gradient decent method的learning rate，所有估計係數都是用同一個？Be specific, how to decide a proper learning rate?